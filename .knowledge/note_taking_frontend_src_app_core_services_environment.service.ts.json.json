{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named EnvironmentService that provides runtime environment details, specifically the API base URL, handling SSR environments and meta tags.", "external_files": ["@angular/core", "@angular/common"], "external_methods": ["isPlatformBrowser"], "published": ["EnvironmentService"], "classes": [{"name": "EnvironmentService", "description": "An Angular injectable service that exposes runtime environment details such as the API base URL, considering SSR and runtime environment."}], "methods": [{"name": "apiBaseUrl", "description": "Returns the API base URL, resolving from meta tags or global variables, SSR-safe, defaulting to '/api'."}, {"name": "trimTrailingSlash", "description": "Removes trailing slash from a URL string if present."}, {"name": "constructor( constructor", "scope": "EnvironmentService", "scopeKind": "class", "description": "unavailable"}], "calls": ["isPlatformBrowser(this.platformId)", "this.doc?.querySelector('meta[name=\"NG_APP_API_BASE_URL\"]')", "this.trimTrailingSlash(fromMeta)", "this.trimTrailingSlash(fromRuntime)"], "search-terms": ["Angular EnvironmentService", "API base URL", "SSR safe", "meta tag", "platform detection", "global runtime variable", "Document querySelector"], "state": 2, "file_id": 24, "knowledge_revision": 116, "git_revision": "c5a18e57c7f4740d4160ab7c1910b89fb8046921", "revision_history": [{"50": ""}, {"96": ""}, {"102": ""}, {"104": ""}, {"115": "c5a18e57c7f4740d4160ab7c1910b89fb8046921"}, {"116": "c5a18e57c7f4740d4160ab7c1910b89fb8046921"}], "ctags": [{"_type": "tag", "name": "EnvironmentService", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^export class EnvironmentService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^  constructor($/", "language": "TypeScript", "kind": "method", "scope": "EnvironmentService", "scopeKind": "class"}, {"_type": "tag", "name": "doc", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^    @Optional() @Inject(DOCUMENT) private doc?: { querySelector?: (selectors: string) => any },$/", "language": "TypeScript", "kind": "property", "scope": "EnvironmentService", "scopeKind": "class"}, {"_type": "tag", "name": "fromMeta", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^      const fromMeta = meta?.content && typeof meta.content === 'string' ? meta.content.trim?.()/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "fromRuntime", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^      const fromRuntime = (g && typeof g.NG_APP_API_BASE_URL === 'string') ? (g.NG_APP_API_BASE_/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^      const g: any = (typeof globalThis !== 'undefined') ? (globalThis as any) : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "isBrowser", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^    const isBrowser = isPlatformBrowser(this.platformId);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^      const fromMeta = meta?.content && typeof meta.content === 'string' ? meta.content.trim?.()/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "meta", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^      const meta = this.doc?.querySelector?.('meta[name=\"NG_APP_API_BASE_URL\"]') as any;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "platformId", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/app/core/services/environment.service.ts", "pattern": "/^    @Inject(PLATFORM_ID) private platformId: Object,$/", "language": "TypeScript", "kind": "property", "scope": "EnvironmentService", "scopeKind": "class"}], "hash": "1a7376a6bc5369beb158473832c99b05", "format-version": 4, "code-base-name": "note_taking_frontend", "filename": "note_taking_frontend/src/app/core/services/environment.service.ts", "fields": [{"name": "@Optional() @Inject(DOCUMENT) private doc?: { querySelector?: (selectors: string) => any },", "scope": "EnvironmentService", "scopeKind": "class", "description": "unavailable"}, {"name": "@Inject(PLATFORM_ID) private platformId: Object,", "scope": "EnvironmentService", "scopeKind": "class", "description": "unavailable"}]}