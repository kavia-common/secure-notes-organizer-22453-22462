{"is_source_file": true, "format": "TypeScript", "description": "The file is a backend server implementation using Node.js with Express framework, serving as the API and rendering engine for an Angular frontend application. It includes mock API endpoints for notes, categories, and user info, static file serving, and server-side rendering logic.", "external_files": ["./main.server"], "external_methods": ["isMainModule"], "published": ["app"], "classes": [], "methods": [{"name": "safeToString", "description": "Converts an unknown error object into a safe string for logging."}], "calls": ["express.json", "express.static", "commonEngine.render"], "search-terms": ["server-side rendering", "Express mock API", "Angular SSR backend", "node:path", "bootstrap", "APP_BASE_HREF"], "state": 2, "file_id": 11, "knowledge_revision": 108, "git_revision": "c5a18e57c7f4740d4160ab7c1910b89fb8046921", "revision_history": [{"33": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"94": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"100": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"101": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"107": "c5a18e57c7f4740d4160ab7c1910b89fb8046921"}, {"108": "c5a18e57c7f4740d4160ab7c1910b89fb8046921"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const app = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "browserDistFolder", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const browserDistFolder = resolve(serverDistFolder, '..\\/browser');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const c = { id: `c${mockCategories.length + 1}`, name: req.body.name, color: req.body.color ||/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "categoryId", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const categoryId = (query['categoryId'] as string) || null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const c = { id: `c${mockCategories.length + 1}`, name: req.body.name, color: req.body.color ||/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "commonEngine", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const commonEngine = new CommonEngine();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  { id: '1', title: 'Welcome', content: 'This is your secure notes app.', categoryId: null, crea/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  let data = [...mockNotes];$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const id = req.params.id;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idCounter", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^let idCounter = 3;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const idx = mockCategories.findIndex(c => c.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const idx = mockNotes.findIndex(n => n.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "indexHtml", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const indexHtml = join(serverDistFolder, 'index.server.html');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const message = safeToString(err);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockCategories", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const mockCategories = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockNotes", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const mockNotes = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const n = { id: String(idCounter++), title: req.body.title || 'Untitled', content: req.body.co/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const now = new Date().toISOString();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "originalUrl", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const port = process.env['PORT'] || 4000;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const q = String(query['q'] ?? '').toLowerCase();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const query: Record<string, unknown> = req.query as any;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "safeToString", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const safeToString = (e: unknown): string => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "serverDistFolder", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const serverDistFolder = dirname(fileURLToPath(import.meta.url));$/", "language": "TypeScript", "kind": "constant"}], "hash": "e24c6a64b76617b30f4ed9a0d6166bc6", "format-version": 4, "code-base-name": "note_taking_frontend", "filename": "note_taking_frontend/src/server.ts", "fields": [{"name": "let data = [...mockNotes];", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let idCounter = 3;", "scope": "", "scopeKind": "", "description": "unavailable"}]}