{"is_source_file": true, "format": "TypeScript", "description": "This file is an Angular server-side rendering setup and Express server implementation for a secure notes web application, including mock API endpoints for notes, categories, and user authentication, along with static file serving and SSR rendering.", "external_files": ["@angular/common", "@angular/ssr/node", "express", "node:path", "node:url", "./main.server", "./app/core/utils/logging.util"], "external_methods": ["isMainModule"], "published": ["app"], "classes": [], "methods": [{"name": "withSafeConsole", "description": "Initializes safe console logging."}], "calls": ["withSafeConsole()", "dirname(fileURLToPath(import.meta.url))", "resolve(serverDistFolder, '../browser')", "join(serverDistFolder, 'index.server.html')", "express()", "new CommonEngine()", "app.use(express.json())", "app.get('/api/notes')", "app.post('/api/notes')", "app.put('/api/notes/:id')", "app.patch('/api/notes/:id')", "app.delete('/api/notes/:id')", "app.get('/api/categories')", "app.post('/api/categories')", "app.delete('/api/categories/:id')", "app.get('/api/user/me')", "app.post('/api/user/logout')", "express.static(browserDistFolder, {...})", "commonEngine.render({...})", "console.error(message)", "app.listen(port, () => {...})", "isMainModule(import.meta.url)"], "search-terms": ["Angular SSR", "Express API", "mockNotes", "mockCategories", "node:path", "node:url", "server setup"], "state": 2, "file_id": 11, "knowledge_revision": 113, "git_revision": "2b2328f2a1ebce3105d3ada0b02666da5fc1f13e", "revision_history": [{"33": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"94": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"100": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"101": "cc9a7ccae7fb8cb1d42e25ec2f1739a663304ba4"}, {"107": "c5a18e57c7f4740d4160ab7c1910b89fb8046921"}, {"108": "c5a18e57c7f4740d4160ab7c1910b89fb8046921"}, {"113": "2b2328f2a1ebce3105d3ada0b02666da5fc1f13e"}], "ctags": [{"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const app = express();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "browserDistFolder", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const browserDistFolder = resolve(serverDistFolder, '..\\/browser');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const c = { id: `c${mockCategories.length + 1}`, name: req.body.name, color: req.body.color ||/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "categoryId", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const categoryId = (query['categoryId'] as string) || null;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "color", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const c = { id: `c${mockCategories.length + 1}`, name: req.body.name, color: req.body.color ||/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "commonEngine", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const commonEngine = new CommonEngine();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createdAt", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  { id: '1', title: 'Welcome', content: 'This is your secure notes app.', categoryId: null, crea/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  let data = [...mockNotes];$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "headers", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const id = req.params.id;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idCounter", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^let idCounter = 3;$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const idx = mockCategories.findIndex(c => c.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const idx = mockNotes.findIndex(n => n.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "indexHtml", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const indexHtml = join(serverDistFolder, 'index.server.html');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const message = safeToString(err);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockCategories", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const mockCategories = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockNotes", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const mockNotes = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "n", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const n = { id: String(idCounter++), title: req.body.title || 'Untitled', content: req.body.co/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const now = new Date().toISOString();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "originalUrl", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "port", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const port = process.env['PORT'] || 4000;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "protocol", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const { protocol, originalUrl, baseUrl, headers } = req;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const q = String(query['q'] ?? '').toLowerCase();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const query: Record<string, unknown> = req.query as any;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "safeToString", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^  const safeToString = (e: unknown): string => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "serverDistFolder", "path": "/home/kavia/workspace/code-generation/secure-notes-organizer-22453-22462/note_taking_frontend/src/server.ts", "pattern": "/^const serverDistFolder = dirname(fileURLToPath(import.meta.url));$/", "language": "TypeScript", "kind": "constant"}], "hash": "f9dcb94f6721f1c75aa0435c3c8d3e6f", "format-version": 4, "code-base-name": "note_taking_frontend", "filename": "note_taking_frontend/src/server.ts", "fields": [{"name": "let data = [...mockNotes];", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "let idCounter = 3;", "scope": "", "scopeKind": "", "description": "unavailable"}]}